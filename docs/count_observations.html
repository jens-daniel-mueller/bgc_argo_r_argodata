<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Pasqualina Vonlanthen &amp; Jens Daniel Müller" />


<title>count_observations</title>

<script src="site_libs/header-attrs-2.10/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<link rel="icon" href="https://github.com/workflowr/workflowr-assets/raw/master/img/reproducible.png">
<!-- Add a small amount of space between sections. -->
<style type="text/css">
div.section {
  padding-top: 12px;
}
</style>



<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">bgc_argo_r_argodata</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="access_data.html">Access data</a>
</li>
<li>
  <a href="plot_timeseries.html">Plot timeseries</a>
</li>
<li>
  <a href="loading_data.html">Load data</a>
</li>
<li>
  <a href="count_observations.html">Observation timeseries</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jens-daniel-mueller/bgc_argo_r_argodata">
    <span class="fa fa-github"></span>
     
    Code
  </a>
</li>
<li>
  <a href="https://jens-daniel-mueller.github.io/">
    <span class="fa fa-home"></span>
     
    Jens home
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">count_observations</h1>
<h4 class="author">Pasqualina Vonlanthen &amp; Jens Daniel Müller</h4>
<h4 class="date">13 October, 2021</h4>

</div>


<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-report" data-toggle="collapse" data-target="#workflowr-report">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span> workflowr <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
</button>
</p>
<div id="workflowr-report" class="collapse">
<ul class="nav nav-tabs">
<li class="active">
<a data-toggle="tab" href="#summary">Summary</a>
</li>
<li>
<a data-toggle="tab" href="#checks"> Checks <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> </a>
</li>
<li>
<a data-toggle="tab" href="#versions">Past versions</a>
</li>
</ul>
<div class="tab-content">
<div id="summary" class="tab-pane fade in active">
<p>
<strong>Last updated:</strong> 2021-10-13
</p>
<p>
<strong>Checks:</strong> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> 7 <span class="glyphicon glyphicon-exclamation-sign text-danger" aria-hidden="true"></span> 0
</p>
<p>
<strong>Knit directory:</strong> <code>bgc_argo_r_argodata/</code> <span class="glyphicon glyphicon-question-sign" aria-hidden="true" title="This is the local directory in which the code in this file was executed."> </span>
</p>
<p>
This reproducible <a href="http://rmarkdown.rstudio.com">R Markdown</a> analysis was created with <a
  href="https://github.com/jdblischak/workflowr">workflowr</a> (version 1.6.2). The <em>Checks</em> tab describes the reproducibility checks that were applied when the results were created. The <em>Past versions</em> tab lists the development history.
</p>
<hr>
</div>
<div id="checks" class="tab-pane fade">
<div id="workflowr-checks" class="panel-group">
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRMarkdownfilestronguptodate"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>R Markdown file:</strong> up-to-date </a>
</p>
</div>
<div id="strongRMarkdownfilestronguptodate" class="panel-collapse collapse">
<div class="panel-body">
<p>Great! Since the R Markdown file has been committed to the Git repository, you know the exact version of the code that produced these results.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongEnvironmentstrongempty"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Environment:</strong> empty </a>
</p>
</div>
<div id="strongEnvironmentstrongempty" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! The global environment was empty. Objects defined in the global environment can affect the analysis in your R Markdown file in unknown ways. For reproduciblity it’s best to always run the code in an empty environment.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSeedstrongcodesetseed20211008code"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Seed:</strong> <code>set.seed(20211008)</code> </a>
</p>
</div>
<div id="strongSeedstrongcodesetseed20211008code" class="panel-collapse collapse">
<div class="panel-body">
<p>The command <code>set.seed(20211008)</code> was run prior to running the code in the R Markdown file. Setting a seed ensures that any results that rely on randomness, e.g. subsampling or permutations, are reproducible.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSessioninformationstrongrecorded"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Session information:</strong> recorded </a>
</p>
</div>
<div id="strongSessioninformationstrongrecorded" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Recording the operating system, R version, and package versions is critical for reproducibility.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongCachestrongnone"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Cache:</strong> none </a>
</p>
</div>
<div id="strongCachestrongnone" class="panel-collapse collapse">
<div class="panel-body">
<p>Nice! There were no cached chunks for this analysis, so you can be confident that you successfully produced the results during this run.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongFilepathsstrongrelative"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>File paths:</strong> relative </a>
</p>
</div>
<div id="strongFilepathsstrongrelative" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Using relative paths to the files within your workflowr project makes it easier to run your code on other machines.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRepositoryversionstrongahrefhttpsgithubcomjensdanielmuellerbgcargorargodatatreed8616e172732d11ce0e437ef63501a3a8fe20f57targetblankd8616e1a"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Repository version:</strong> <a href="https://github.com/jens-daniel-mueller/bgc_argo_r_argodata/tree/d8616e172732d11ce0e437ef63501a3a8fe20f57" target="_blank">d8616e1</a> </a>
</p>
</div>
<div id="strongRepositoryversionstrongahrefhttpsgithubcomjensdanielmuellerbgcargorargodatatreed8616e172732d11ce0e437ef63501a3a8fe20f57targetblankd8616e1a" class="panel-collapse collapse">
<div class="panel-body">
<p>
Great! You are using Git for version control. Tracking code development and connecting the code version to the results is critical for reproducibility.
</p>
<p>
The results in this page were generated with repository version <a href="https://github.com/jens-daniel-mueller/bgc_argo_r_argodata/tree/d8616e172732d11ce0e437ef63501a3a8fe20f57" target="_blank">d8616e1</a>. See the <em>Past versions</em> tab to see a history of the changes made to the R Markdown and HTML files.
</p>
<p>
Note that you need to be careful to ensure that all relevant files for the analysis have been committed to Git prior to generating the results (you can use <code>wflow_publish</code> or <code>wflow_git_commit</code>). workflowr only checks the R Markdown file, but you know if there are other scripts or data files that it depends on. Below is the status of the Git repository when the results were generated:
</p>
<pre><code>
Ignored files:
    Ignored:    .Rhistory
    Ignored:    .Rproj.user/

Untracked files:
    Untracked:  code/creating_dataframe.R
    Untracked:  code/creating_map.R

</code></pre>
<p>
Note that any generated files, e.g. HTML, png, CSS, etc., are not included in this status report because it is ok for generated content to have uncommitted changes.
</p>
</div>
</div>
</div>
</div>
<hr>
</div>
<div id="versions" class="tab-pane fade">

<p>
These are the previous versions of the repository in which changes were made to the R Markdown (<code>analysis/count_observations.Rmd</code>) and HTML (<code>docs/count_observations.html</code>) files. If you’ve configured a remote Git repository (see <code>?wflow_git_remote</code>), click on the hyperlinks in the table below to view the files as they were in that past version.
</p>
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
File
</th>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
<th>
Message
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/jens-daniel-mueller/bgc_argo_r_argodata/blob/d8616e172732d11ce0e437ef63501a3a8fe20f57/analysis/count_observations.Rmd" target="_blank">d8616e1</a>
</td>
<td>
pasqualina-vonlanthendinenna
</td>
<td>
2021-10-13
</td>
<td>
added timeseries of all 3 bgc variables
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/jens-daniel-mueller/bgc_argo_r_argodata/795b5ad56d76d44a6ed677928aab5a7821828630/docs/count_observations.html" target="_blank">795b5ad</a>
</td>
<td>
pasqualina-vonlanthendinenna
</td>
<td>
2021-10-13
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/jens-daniel-mueller/bgc_argo_r_argodata/blob/81f5ac95754ecb913598df7344a2e6c627296add/analysis/count_observations.Rmd" target="_blank">81f5ac9</a>
</td>
<td>
pasqualina-vonlanthendinenna
</td>
<td>
2021-10-13
</td>
<td>
added timeseries of all 3 bgc variables
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/jens-daniel-mueller/bgc_argo_r_argodata/4840e498ba7ee84ab1c7b9fa3d23742c84e2de48/docs/count_observations.html" target="_blank">4840e49</a>
</td>
<td>
pasqualina-vonlanthendinenna
</td>
<td>
2021-10-12
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/jens-daniel-mueller/bgc_argo_r_argodata/blob/2fb35f7e08ec8188b74cff0807f01e80917dc474/analysis/count_observations.Rmd" target="_blank">2fb35f7</a>
</td>
<td>
pasqualina-vonlanthendinenna
</td>
<td>
2021-10-12
</td>
<td>
added reading data in page
</td>
</tr>
</tbody>
</table>
</div>
<hr>
</div>
</div>
</div>
<p>Count the number of bgc-argo observations, and plot the evolution over time.</p>
<p>Use the same process as in loading_data.Rmd to load in bgc-argo data and the corresponding metadata:</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>── Attaching packages ─────────────────────────────────────── tidyverse 1.3.0 ──</code></pre>
<pre><code>✓ ggplot2 3.3.5     ✓ purrr   0.3.4
✓ tibble  3.1.3     ✓ dplyr   1.0.5
✓ tidyr   1.1.3     ✓ stringr 1.4.0
✓ readr   1.4.0     ✓ forcats 0.5.0</code></pre>
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
x dplyr::filter() masks stats::filter()
x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code># remotes::install_github(&quot;ArgoCanada/argodata&quot;)
library(argodata)
library(ggplot2)
library(lubridate)</code></pre>
<pre><code>
Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>The following objects are masked from &#39;package:base&#39;:

    date, intersect, setdiff, union</code></pre>
<pre class="r"><code>argo_set_cache_dir(&#39;/nfs/kryo/work/updata/bgc_argo_r_argodata&#39;)

argo_update_global(max_global_cache_age = Inf)  
argo_update_data(max_data_cache_age = Inf) # the arguments max_global_cache_age and max_data_cache_age indicate the age of the cached files to update (in hours) (Inf means always use the cached file, and -Inf means always download from the server) 
# e.g. if max_global_cache_age = 5, then files older than 5 hours will be updated 


bgc_subset = argo_global_synthetic_prof() %&gt;%     
  argo_filter_data_mode(data_mode = &#39;delayed&#39;) %&gt;%
  argo_filter_date(date_min = &#39;2013-01-01&#39;,
                   date_max = &#39;2015-12-31&#39;) # download bgc-argo files containing delayed-mode data (recommended for bgc variables) between January 1, 2013 and December 31, 2015 (selects this specific subset of the cached files) </code></pre>
<pre><code>Loading argo_global_synthetic_prof()</code></pre>
<pre class="r"><code># check the dates 
# max(bgc_subset$date, na.rm = TRUE)
# min(bgc_subset$date, na.rm = TRUE)

bgc_data = argo_prof_levels(bgc_subset, 
                            vars = c(&#39;PRES_ADJUSTED&#39;,&#39;PRES_ADJUSTED_QC&#39;,
                                     &#39;PSAL_ADJUSTED&#39;, &#39;PSAL_ADJUSTED_QC&#39;,
                                     &#39;TEMP_ADJUSTED&#39;,&#39;TEMP_ADJUSTED_QC&#39;,
                                     &#39;DOXY_ADJUSTED&#39;, &#39;DOXY_ADJUSTED_QC&#39;,
                                     &#39;NITRATE_ADJUSTED&#39;, &#39;NITRATE_ADJUSTED_QC&#39;,
                                     &#39;PH_IN_SITU_TOTAL_ADJUSTED&#39;, &#39;PH_IN_SITU_TOTAL_ADJUSTED_QC&#39;), quiet = TRUE) 
# read in the profiles of the delayed-mode data from 01/01/2013 to 31/12/2015 (takes a while)

bgc_metadata = argo_prof_prof(bgc_subset) # read in the metadata corresponding to these profiles </code></pre>
<pre><code>Extracting from 54117 files</code></pre>
<pre class="r"><code>full_data = left_join(bgc_data, bgc_metadata, by = c(&#39;file&#39;, &#39;n_prof&#39;)) # join data and metadata together </code></pre>
<p>Create a separate dataframe for each BGC variable (oxygen, pH and nitrate), with longitude, latitude, value, qc flag, date, time, year, month, day, cycle number, float ID, and profile qc flag, and look at the evolution of the number of observations (any depth levels) and the number of profiles (depth levels 0-2000 m) over time.</p>
<p>QC flags for values (‘flag’ column) are between 1 and 8, where: 1 is ‘good’ data, 2 is ‘probably good’ data, 3 is ‘probably bad’ data, 4 is ‘bad’ data, 5 is ‘value changed’, 6 is not used, 7 is not used, 8 is ‘estimated value’, 9 is ‘missing value’.</p>
<p>Profile QC flags (‘profile_flag’ column) are QC codes attributed to the entire profile, and indicate the number of depth levels (in %) where the value is considered to be good data (QC flags of 1, 2, 5, and 8):<br />
‘A’ means 100% of profile levels contain good data, ‘B’ means 75-&lt;100% of profile levels contain good data, ‘C’ means 50-75% of profile levels contain good data, ‘D’ means 25-50% of profile levels contain good data, ‘E’ means &gt;0-50% of profile levels contain good data, ‘F’ means 0% of profile levels contain good data.</p>
<ol style="list-style-type: decimal">
<li>NUMBER OF OBSERVATIONS</li>
</ol>
<p>1.1 Oxygen</p>
<pre class="r"><code>oxy = data.frame(full_data$longitude, full_data$latitude, full_data$date, full_data$doxy_adjusted, full_data$doxy_adjusted_qc) # extract desired variables from the combined data/metadata dataframe

colnames(oxy) = c(&#39;longitude&#39;,&#39;latitude&#39;,&#39;date&#39;, &#39;doxy_adjusted&#39;, &#39;flag&#39;) # add column names 
oxy$date.simple = as.Date(oxy$date)        # separate the date and time into two columns
oxy$time = format(oxy$date, &#39;%H:%M:%S&#39;)

oxy = oxy %&gt;%                             # separate the date into year, month and day
  mutate(year = year(date.simple),
         month = month(date.simple),
         day = day(date.simple),
         cycle = full_data$cycle_number,   
         float_ID = full_data$float_serial_no,
         profile_flag = full_data$profile_doxy_qc) # add cycle number, float ID and profile qc flag to the dataframe 

oxy.no.na = oxy %&gt;%
  filter(!is.na(doxy_adjusted)) # remove NA values

num_obs_oxy = oxy.no.na %&gt;%
  group_by(year, month, flag) %&gt;%     
  summarise(Count = n()) # count the number of oxygen observations by month</code></pre>
<pre><code>`summarise()` has grouped output by &#39;year&#39;, &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<p>The number of observations can then be plotted as a timeseries. Different colored lines are plotted for different quality control flags</p>
<pre class="r"><code># plot the number of oxygen observations per day 
ggplot(num_obs_oxy, aes(x = month, y = Count, group = flag, col = flag)) +
  geom_line() +
  geom_point() +
  facet_wrap(~ year) +
  labs(title = &#39;number of adjusted oxygen observations&#39;,
       y = &#39;number of observations&#39;,
       x = &#39;date&#39;) +
  theme_bw()</code></pre>
<p><img src="figure/count_observations.Rmd/oxygen_timeseries-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-oxygen_timeseries-1">
Past versions of oxygen_timeseries-1.png
</button>
</p>
<div id="fig-oxygen_timeseries-1" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/jens-daniel-mueller/bgc_argo_r_argodata/blob/4840e498ba7ee84ab1c7b9fa3d23742c84e2de48/docs/figure/count_observations.Rmd/oxygen_timeseries-1.png" target="_blank">4840e49</a>
</td>
<td>
pasqualina-vonlanthendinenna
</td>
<td>
2021-10-12
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>1.2 pH</p>
<pre class="r"><code>ph = data.frame(full_data$longitude, full_data$latitude, full_data$date, full_data$ph_in_situ_total_adjusted, full_data$ph_in_situ_total_adjusted_qc)
# extract the variables from the combined data/metadata frame

colnames(ph) = c(&#39;longitude&#39;,&#39;latitude&#39;,&#39;date&#39;, &#39;ph_in_situ_total&#39;, &#39;flag&#39;)
# rename columns 

ph$date.simple = as.Date(ph$date)
ph$time = format(ph$date, &#39;%H:%M:%S&#39;) # separate date and time into two separate columns

ph = ph %&gt;%
  mutate(year = year(date.simple),
         month = month(date.simple),
         day = day(date.simple),
         cycle = full_data$cycle_number,
         float_ID = full_data$float_serial_no,
         profile_flag = full_data$profile_ph_in_situ_total_qc) # separate year, month and day, and add cycle number, float ID and profile qc flag 

ph.no.na = ph %&gt;%
  filter(!is.na(ph_in_situ_total)) # remove NA values 

num_obs_ph = ph.no.na %&gt;%
  group_by(year, month, flag) %&gt;%
  summarise(Count = n())   # count the number of observations per month </code></pre>
<pre><code>`summarise()` has grouped output by &#39;year&#39;, &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<p>We can then plot the number of pH observations in a timeseries. Different lines are plotted for different quality control flags</p>
<pre class="r"><code>ggplot(num_obs_ph, aes(x = month, y = Count, group = flag, col = flag)) +
  geom_line() +
  geom_point() +
  facet_wrap(~year) +
  labs(title = &#39;number of adjusted pH observations&#39;,
       y = &#39;number of observations&#39;,
       x = &#39;date&#39;) +
  theme_bw()</code></pre>
<p><img src="figure/count_observations.Rmd/pH_timeseries-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-pH_timeseries-1">
Past versions of pH_timeseries-1.png
</button>
</p>
<div id="fig-pH_timeseries-1" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/jens-daniel-mueller/bgc_argo_r_argodata/blob/4840e498ba7ee84ab1c7b9fa3d23742c84e2de48/docs/figure/count_observations.Rmd/pH_timeseries-1.png" target="_blank">4840e49</a>
</td>
<td>
pasqualina-vonlanthendinenna
</td>
<td>
2021-10-12
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>1.3 Nitrate</p>
<pre class="r"><code>nitrate = data.frame(full_data$longitude, full_data$latitude, full_data$date, full_data$nitrate_adjusted, full_data$nitrate_adjusted_qc) # extract nitrate from the combined data/metadata dataframe

colnames(nitrate) = c(&#39;longitude&#39;,&#39;latitude&#39;, &#39;date&#39;, &#39;nitrate_adjusted&#39;, &#39;flag&#39;)
# rename columns 

nitrate$date.simple = as.Date(nitrate$date)
nitrate$time = format(nitrate$date, &#39;%H:%M:%S&#39;) # separate the date into date and time columns

nitrate = nitrate %&gt;%
  mutate(year = year(date.simple),
         month = month(date.simple),
         day = day(date.simple),
         cycle = full_data$cycle_number,
         float_ID = full_data$float_serial_no,
         profile_flag = full_data$profile_nitrate_qc) # separate year, month, and day, and add cycle number, float ID, and the profile qc flag 

nitrate.no.na = nitrate %&gt;%
  filter(!is.na(nitrate_adjusted)) # remove NA values

num_obs_nitrate = nitrate.no.na %&gt;%
  group_by(year, month, flag) %&gt;%
  summarise(Count = n())   # count the number of nitrate observations per month </code></pre>
<pre><code>`summarise()` has grouped output by &#39;year&#39;, &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<p>Plot the number of nitrate observations per month as a timeseries. Different lines are plotted for different qc flags</p>
<pre class="r"><code>ggplot(num_obs_nitrate, aes(x = month, y = Count, group = flag, col = flag))+
  geom_line()+
  geom_point()+
  facet_wrap(~ year)+
  labs(title = &#39;number of adjusted nitrate observations&#39;,
       y = &#39;number of observations&#39;,
       x = &#39;date&#39;) +
  theme_bw()</code></pre>
<p><img src="figure/count_observations.Rmd/nitrate_timeseries-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-nitrate_timeseries-1">
Past versions of nitrate_timeseries-1.png
</button>
</p>
<div id="fig-nitrate_timeseries-1" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/jens-daniel-mueller/bgc_argo_r_argodata/blob/4840e498ba7ee84ab1c7b9fa3d23742c84e2de48/docs/figure/count_observations.Rmd/nitrate_timeseries-1.png" target="_blank">4840e49</a>
</td>
<td>
pasqualina-vonlanthendinenna
</td>
<td>
2021-10-12
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>1.4 All BGC variables (oxygen, pH, and nitrate) We can count the number of observations for which all three BGC variables exist. (QC flags cannot be included since they are specific to one variable)</p>
<pre class="r"><code># create a dataframe which contains all three variables, with longitude, latitude, date, cycle number and float ID 
bgc_co_located = data.frame(full_data$longitude, full_data$latitude,
                            full_data$date,
                            full_data$cycle_number,
                            full_data$float_serial_no,
                            full_data$doxy_adjusted,
                            full_data$ph_in_situ_total_adjusted,
                            full_data$nitrate_adjusted)

colnames(bgc_co_located) = c(&#39;longitude&#39;, &#39;latitude&#39;,
                             &#39;date&#39;,
                             &#39;cycle&#39;,
                             &#39;float_ID&#39;,
                             &#39;doxy_adjusted&#39;,
                             &#39;ph_in_situ_total_adjusted&#39;,
                             &#39;nitrate_adjusted&#39;) # rename the columns 

bgc_co_located = bgc_co_located %&gt;%     # change the date and time format
  mutate(date.simple = as.Date(date),
         time = format(date, &#39;%H:%M:%S&#39;),
         year = year(date.simple),
         month = month(date.simple),
         day = day(date.simple))

bgc_co_located.no.na = bgc_co_located %&gt;%  # remove NA values for each variable
  filter(!is.na(doxy_adjusted)) %&gt;%
  filter(!is.na(ph_in_situ_total_adjusted)) %&gt;%
  filter(!is.na(nitrate_adjusted))
# removes rows of pH and nitrate for which there is no oxygen, rows of oxygen and nitrate for which there is no pH, and rows of oxygen and pH for which there is no nitrate 

# count the number of observations left for each year and month 
num_obs_bgc = bgc_co_located.no.na %&gt;%
  group_by(year, month) %&gt;%
  summarise(Count = n())  </code></pre>
<pre><code>`summarise()` has grouped output by &#39;year&#39;. You can override using the `.groups` argument.</code></pre>
<p>We can then plot the evolution over time of the number of BGC observations containing all three variables</p>
<pre class="r"><code>ggplot(num_obs_bgc, aes(x = month, y = Count))+
  geom_line()+
  geom_point()+
  facet_wrap(~ year)+
  labs(title = &#39;number of adjusted BGC observations&#39;,
       y = &#39;number of observations&#39;,
       x = &#39;date&#39;) +
  theme_bw()</code></pre>
<p><img src="figure/count_observations.Rmd/timeseries_bgc_observations-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-timeseries_bgc_observations-1">
Past versions of timeseries_bgc_observations-1.png
</button>
</p>
<div id="fig-timeseries_bgc_observations-1" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/jens-daniel-mueller/bgc_argo_r_argodata/blob/795b5ad56d76d44a6ed677928aab5a7821828630/docs/figure/count_observations.Rmd/timeseries_bgc_observations-1.png" target="_blank">795b5ad</a>
</td>
<td>
pasqualina-vonlanthendinenna
</td>
<td>
2021-10-13
</td>
</tr>
</tbody>
</table>
</div>
</div>
<ol start="2" style="list-style-type: decimal">
<li>NUMBER OF PROFILES</li>
</ol>
<p>Using the dataframes created above for oxygen, pH, and nitrate, we can also look at the number of profiles over time for each variable. (One profile has multiple depth levels, between 0-2000 m)</p>
<p>2.1 Oxygen</p>
<pre class="r"><code>prof_oxy = oxy.no.na %&gt;%
  group_by(float_ID, cycle, profile_flag, year, month) %&gt;%     
  summarise(num_obs = n())  # count the number of oxygen observations for each float and cycle</code></pre>
<pre><code>`summarise()` has grouped output by &#39;float_ID&#39;, &#39;cycle&#39;, &#39;profile_flag&#39;, &#39;year&#39;. You can override using the `.groups` argument.</code></pre>
<pre class="r"><code>prof_oxy = prof_oxy %&gt;%
  mutate(prof = rep(1, length(cycle)))   # repeat a vector of 1s for each individual cycle (one cycle corresponds to one profile)

num_prof_oxy = prof_oxy %&gt;%
  group_by(year, month, profile_flag) %&gt;%
  summarise(count_prof = n())       # count the number of 1s (profiles)</code></pre>
<pre><code>`summarise()` has grouped output by &#39;year&#39;, &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<p>Plot the evolution of the number of oxygen profiles over time</p>
<pre class="r"><code>ggplot(num_prof_oxy, aes(x = month, y = count_prof, group = profile_flag, col = profile_flag)) +
  geom_line() +
  geom_point() +
  facet_wrap(~ year, ncol = 3) +
  labs(title = &#39;number of oxygen profiles&#39;,
       y = &#39;number of profiles&#39;,
       x = &#39;month&#39;) +
  theme_bw()</code></pre>
<p><img src="figure/count_observations.Rmd/oxygen_profile_timeseries-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-oxygen_profile_timeseries-1">
Past versions of oxygen_profile_timeseries-1.png
</button>
</p>
<div id="fig-oxygen_profile_timeseries-1" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/jens-daniel-mueller/bgc_argo_r_argodata/blob/4840e498ba7ee84ab1c7b9fa3d23742c84e2de48/docs/figure/count_observations.Rmd/oxygen_profile_timeseries-1.png" target="_blank">4840e49</a>
</td>
<td>
pasqualina-vonlanthendinenna
</td>
<td>
2021-10-12
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>2.2 pH</p>
<pre class="r"><code>prof_ph = ph.no.na %&gt;%
  group_by(float_ID, cycle, profile_flag, year, month) %&gt;%     
  summarise(num_obs = n()) # count the number of ph observations by float and cycle</code></pre>
<pre><code>`summarise()` has grouped output by &#39;float_ID&#39;, &#39;cycle&#39;, &#39;profile_flag&#39;, &#39;year&#39;. You can override using the `.groups` argument.</code></pre>
<pre class="r"><code>prof_ph = prof_ph %&gt;%
  mutate(prof = rep(1, length(cycle))) # repeat a vector of 1s over the length of the cycles (one cycle corresponds to one pH profile)

num_prof_ph = prof_ph %&gt;%
  group_by(year, month, profile_flag) %&gt;%
  summarise(count_prof = n()) # count the number of 1s (profiles)</code></pre>
<pre><code>`summarise()` has grouped output by &#39;year&#39;, &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<p>Plot the number of pH profiles over time</p>
<pre class="r"><code>ggplot(num_prof_ph, aes(x = month, y = count_prof, group = profile_flag, col = profile_flag)) +
  geom_line() +
  geom_point() +
  facet_wrap(~ year, ncol = 3) +
  labs(title = &#39;number of pH profiles&#39;,
       y = &#39;number of profiles&#39;,
       x = &#39;month&#39;) +
  theme_bw()</code></pre>
<p><img src="figure/count_observations.Rmd/pH_profile_timeseries-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-pH_profile_timeseries-1">
Past versions of pH_profile_timeseries-1.png
</button>
</p>
<div id="fig-pH_profile_timeseries-1" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/jens-daniel-mueller/bgc_argo_r_argodata/blob/4840e498ba7ee84ab1c7b9fa3d23742c84e2de48/docs/figure/count_observations.Rmd/pH_profile_timeseries-1.png" target="_blank">4840e49</a>
</td>
<td>
pasqualina-vonlanthendinenna
</td>
<td>
2021-10-12
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>2.3 Nitrate</p>
<pre class="r"><code>prof_nitrate = nitrate.no.na %&gt;%
  group_by(float_ID, cycle, profile_flag, year, month) %&gt;%  
  summarise(num_obs = n()) # count the number of nitrate observations by float and cycle</code></pre>
<pre><code>`summarise()` has grouped output by &#39;float_ID&#39;, &#39;cycle&#39;, &#39;profile_flag&#39;, &#39;year&#39;. You can override using the `.groups` argument.</code></pre>
<pre class="r"><code>prof_nitrate = prof_nitrate %&gt;%
  mutate(prof = rep(1, length(cycle))) # repeat a vector of 1s over the length of cycle numbers (one cycle is one profile)

num_prof_nitrate = prof_nitrate %&gt;%
  group_by(year, month, profile_flag) %&gt;%
  summarise(count_prof = n()) # count the number of 1s (profiles)</code></pre>
<pre><code>`summarise()` has grouped output by &#39;year&#39;, &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<p>Plot the number of nitrate profiles over time</p>
<pre class="r"><code>ggplot(num_prof_nitrate, aes(x = month, y = count_prof, group = profile_flag, col = profile_flag)) +
  geom_line() +
  geom_point() +
  facet_wrap(~ year, ncol = 3) +
  labs(title = &#39;number of nitrate profiles&#39;,
       y = &#39;number of profiles&#39;,
       x = &#39;month&#39;) +
  theme_bw()</code></pre>
<p><img src="figure/count_observations.Rmd/nitrate_profile_timeseries-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-nitrate_profile_timeseries-1">
Past versions of nitrate_profile_timeseries-1.png
</button>
</p>
<div id="fig-nitrate_profile_timeseries-1" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/jens-daniel-mueller/bgc_argo_r_argodata/blob/4840e498ba7ee84ab1c7b9fa3d23742c84e2de48/docs/figure/count_observations.Rmd/nitrate_profile_timeseries-1.png" target="_blank">4840e49</a>
</td>
<td>
pasqualina-vonlanthendinenna
</td>
<td>
2021-10-12
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>2.4 All BGC variables (oxygen, pH, and nitrate) We can count the number of profiles which contain all three variables. ( Profile QC flags cannot be included since they are specific to one variable)</p>
<pre class="r"><code># count the number of profiles for which all three variables exist
prof_bgc = bgc_co_located.no.na %&gt;% 
  group_by(float_ID, cycle, year, month) %&gt;%
  summarise(num_obs = n()) # count the number of observations by float and cycle number</code></pre>
<pre><code>`summarise()` has grouped output by &#39;float_ID&#39;, &#39;cycle&#39;, &#39;year&#39;. You can override using the `.groups` argument.</code></pre>
<pre class="r"><code>prof_bgc = prof_bgc %&gt;%
  mutate(prof = rep(1, length(cycle))) # repeat a vector of 1s over the number of cycles

num_prof_bgc = prof_bgc %&gt;%
  group_by(year, month) %&gt;%
  summarise(count_prof = n())  # count the number of 1s </code></pre>
<pre><code>`summarise()` has grouped output by &#39;year&#39;. You can override using the `.groups` argument.</code></pre>
<p>Plot the number of BGC profiles for which all three variables exist over time</p>
<pre class="r"><code>ggplot(num_prof_bgc, aes(x = month, y = count_prof)) +
  geom_line() +
  geom_point() +
  facet_wrap(~ year) +
  labs(title = &#39;number of BGC profiles&#39;,
       y = &#39;number of profiles&#39;,
       x = &#39;month&#39;) +
  theme_bw()</code></pre>
<p><img src="figure/count_observations.Rmd/bgc_profile_timeseries-1.png" width="672" style="display: block; margin: auto;" /></p>
<br>
<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-sessioninfo" data-toggle="collapse" data-target="#workflowr-sessioninfo" style="display: block;">
<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Session information
</button>
</p>
<div id="workflowr-sessioninfo" class="collapse">
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>R version 4.0.3 (2020-10-10)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: openSUSE Leap 15.2

Matrix products: default
BLAS:   /usr/local/R-4.0.3/lib64/R/lib/libRblas.so
LAPACK: /usr/local/R-4.0.3/lib64/R/lib/libRlapack.so

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] lubridate_1.7.9     argodata_0.0.0.9000 forcats_0.5.0      
 [4] stringr_1.4.0       dplyr_1.0.5         purrr_0.3.4        
 [7] readr_1.4.0         tidyr_1.1.3         tibble_3.1.3       
[10] ggplot2_3.3.5       tidyverse_1.3.0     workflowr_1.6.2    

loaded via a namespace (and not attached):
 [1] Rcpp_1.0.7        prettyunits_1.1.1 assertthat_0.2.1  rprojroot_2.0.2  
 [5] digest_0.6.27     utf8_1.2.2        R6_2.5.1          cellranger_1.1.0 
 [9] backports_1.1.10  reprex_0.3.0      evaluate_0.14     highr_0.8        
[13] httr_1.4.2        pillar_1.6.2      progress_1.2.2    rlang_0.4.11     
[17] readxl_1.3.1      rstudioapi_0.13   whisker_0.4       jquerylib_0.1.4  
[21] blob_1.2.1        rmarkdown_2.10    labeling_0.4.2    bit_4.0.4        
[25] munsell_0.5.0     broom_0.7.9       compiler_4.0.3    httpuv_1.6.2     
[29] modelr_0.1.8      xfun_0.25         pkgconfig_2.0.3   htmltools_0.5.1.1
[33] tidyselect_1.1.0  fansi_0.5.0       tzdb_0.1.2        crayon_1.4.1     
[37] dbplyr_1.4.4      withr_2.4.2       later_1.3.0       grid_4.0.3       
[41] jsonlite_1.7.2    gtable_0.3.0      lifecycle_1.0.0   DBI_1.1.1        
[45] git2r_0.27.1      magrittr_2.0.1    scales_1.1.1      vroom_1.5.5      
[49] cli_3.0.1         stringi_1.5.3     farver_2.1.0      fs_1.5.0         
[53] promises_1.2.0.1  xml2_1.3.2        bslib_0.2.5.1     ellipsis_0.3.2   
[57] generics_0.1.0    vctrs_0.3.8       tools_4.0.3       bit64_4.0.5      
[61] glue_1.4.2        RNetCDF_2.4-2     hms_0.5.3         parallel_4.0.3   
[65] yaml_2.2.1        colorspace_2.0-2  rvest_0.3.6       knitr_1.33       
[69] haven_2.3.1       sass_0.4.0       </code></pre>
</div>


<!-- Adjust MathJax settings so that all math formulae are shown using
TeX fonts only; see
http://docs.mathjax.org/en/latest/configuration.html.  This will make
the presentation more consistent at the cost of the webpage sometimes
taking slightly longer to load. Note that this only works because the
footer is added to webpages before the MathJax javascript. -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>




</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
